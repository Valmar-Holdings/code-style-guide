<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <base href="https://valmar-holdings.github.io/code-style-guide/">
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1, shrink-to-fit=no"
        >
        <meta
            http-equiv="x-ua-compatible"
            content="ie=edge"
        >
        <meta
            name="description"
            content="as practiced in Valmar Holdings"
        >

        <meta
            property="og:site_name"
            content="Code Style Guide"
        />
        <meta
            property="og:title"
            content="Testing | Code Style Guide"
        />
        <meta
            property="og:description"
            content="as practiced in Valmar Holdings"
        />
        <meta
            property="og:url"
            content="https://valmar-holdings.github.io/code-style-guide/docs/laravel/testing"
        />
        <meta
            property="og:image"
            content="/assets/img/logo.png"
        />
        <meta
            property="og:type"
            content="website"
        />

        <meta
            name="twitter:image:alt"
            content="Code Style Guide"
        >
        <meta
            name="twitter:card"
            content="summary_large_image"
        >
        <meta
            name="generator"
            content="tighten_jigsaw_doc"
        >

        <title>Code Style Guide | Testing</title>

        <link
            rel="home"
            href="https://valmar-holdings.github.io/code-style-guide/"
        >
        <link
            rel="icon"
            href="https://valmar-holdings.github.io/code-style-guide/favicon.ico"
        >

        
                    <!-- Insert analytics code here -->
        
        <link
            href="https://fonts.googleapis.com/css?family=Nunito+Sans:300,300i,400,400i,700,700i,800,800i"
            rel="stylesheet"
        >
        <link
            rel="stylesheet"
            href="https://valmar-holdings.github.io/code-style-guide/assets/build/css/main.css?id=4284f1887d7942f1ea6d84efe137e0a2"
        >
        <script
            defer
            src="https://valmar-holdings.github.io/code-style-guide/assets/build/js/main.js?id=6bee6b594711aaf71f3b28701cea7bf2"
        ></script>
    </head>

    <body class="flex flex-col justify-between min-h-screen font-sans leading-normal text-gray-800 bg-gray-100">
        <header
            class="flex items-center h-24 py-4 mb-8 bg-white border-b shadow"
            role="banner"
        >
            <div class="container flex items-center px-4 mx-auto max-w max-w-8xl lg:px-8">
                <div class="flex items-center">
                    <a
                        href="https://valmar-holdings.github.io/code-style-guide/"
                        title="Code Style Guide home"
                        class="inline-flex items-center"
                    >
                        <img
                            class="h-8 mr-3 md:h-10"
                            src="https://valmar-holdings.github.io/code-style-guide/assets/img/logo.svg"
                            alt="Code Style Guide logo"
                        />

                        <h1
                            class="pr-4 my-0 text-lg font-semibold text-blue-900 whitespace-nowrap hover:text-blue-600 md:text-2xl"
                        >
                            Code Style Guide
                        </h1>
                    </a>
                </div>

                <div class="flex items-center justify-end flex-1 text-right md:pl-10">

                    

                </div>
            </div>

                <button class="flex justify-center items-center bg-blue-500 border border-blue-500 h-10 mr-4 px-5 rounded-full lg:hidden focus:outline-none"
    onclick="navMenu.toggle()"
>
    <svg id="js-nav-menu-show" xmlns="http://www.w3.org/2000/svg"
        class="fill-current text-white h-9 w-4" viewBox="0 0 32 32"
    >
        <path d="M4,10h24c1.104,0,2-0.896,2-2s-0.896-2-2-2H4C2.896,6,2,6.896,2,8S2.896,10,4,10z M28,14H4c-1.104,0-2,0.896-2,2  s0.896,2,2,2h24c1.104,0,2-0.896,2-2S29.104,14,28,14z M28,22H4c-1.104,0-2,0.896-2,2s0.896,2,2,2h24c1.104,0,2-0.896,2-2  S29.104,22,28,22z"/>
    </svg>

    <svg id="js-nav-menu-hide" xmlns="http://www.w3.org/2000/svg"
        class="hidden fill-current text-white h-9 w-4" viewBox="0 0 36 30"
    >
        <polygon points="32.8,4.4 28.6,0.2 18,10.8 7.4,0.2 3.2,4.4 13.8,15 3.2,25.6 7.4,29.8 18,19.2 28.6,29.8 32.8,25.6 22.2,15 "/>
    </svg>
</button>


        </header>

        <main
            role="main"
            class="flex-auto w-full"
        >

                <section
        class="container px-6 py-4 mx-auto max-w-8xl md:px-8"
    >
        <div
            class="flex flex-col lg:flex-row"
        >
            <nav
                class="hidden nav-menu lg:block"
                id="js-nav-menu"
            >

                <ul class="my-0">
            <li class="pl-4">
            
        <a href="https://valmar-holdings.github.io/code-style-guide/docs/overview"
            class="lvl0   nav-menu__item hover:text-blue-500"
        >
            Overview
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="https://valmar-holdings.github.io/code-style-guide/docs/pull-requests"
            class="lvl0   nav-menu__item hover:text-blue-500"
        >
            Pull Request
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="https://valmar-holdings.github.io/code-style-guide/docs/laravel"
            class="lvl0 lvl0-active  nav-menu__item hover:text-blue-500"
        >
            Laravel
        </a>
    
            
        <ul class="my-0">
            <li class="pl-4">
            
        <a href="https://valmar-holdings.github.io/code-style-guide/docs/laravel/blade"
            class="lvl1   nav-menu__item hover:text-blue-500"
        >
            Blade
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="https://valmar-holdings.github.io/code-style-guide/docs/laravel/classes"
            class="lvl1   nav-menu__item hover:text-blue-500"
        >
            Classes
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="https://valmar-holdings.github.io/code-style-guide/docs/laravel/code-cleanliness"
            class="lvl1   nav-menu__item hover:text-blue-500"
        >
            Code Cleanliness
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="https://valmar-holdings.github.io/code-style-guide/docs/laravel/config-env"
            class="lvl1   nav-menu__item hover:text-blue-500"
        >
            Config &amp; Environment
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="https://valmar-holdings.github.io/code-style-guide/docs/laravel/controllers"
            class="lvl1   nav-menu__item hover:text-blue-500"
        >
            Controllers
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="https://valmar-holdings.github.io/code-style-guide/docs/laravel/eloquent"
            class="lvl1   nav-menu__item hover:text-blue-500"
        >
            Eloquent
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="https://valmar-holdings.github.io/code-style-guide/docs/laravel/exceptions"
            class="lvl1   nav-menu__item hover:text-blue-500"
        >
            Exceptions
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="https://valmar-holdings.github.io/code-style-guide/docs/laravel/livewire"
            class="lvl1   nav-menu__item hover:text-blue-500"
        >
            Livewire
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="https://valmar-holdings.github.io/code-style-guide/docs/laravel/models"
            class="lvl1   nav-menu__item hover:text-blue-500"
        >
            Models
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="https://valmar-holdings.github.io/code-style-guide/docs/laravel/patterns"
            class="lvl1   nav-menu__item hover:text-blue-500"
        >
            Patterns
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="https://valmar-holdings.github.io/code-style-guide/docs/laravel/routes"
            class="lvl1   nav-menu__item hover:text-blue-500"
        >
            Routes
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="https://valmar-holdings.github.io/code-style-guide/docs/laravel/testing"
            class="lvl1  active font-semibold text-blue-500 nav-menu__item hover:text-blue-500"
        >
            Testing
        </a>
    
    </li>
    </ul>
    </li>
    </ul>

            </nav>

            <div
                class="w-full pb-16 break-words DocSearch-content lg:w-3/5 lg:pl-4"
                v-pre
            >
                <h1>Testing</h1>

                                    <p
                        class="text-xs italic text-gray-400"
                    >

                        Last Updated:
                        <time
                            datetime="2022-12-31 00:00:00"
                        >
                            31 Dec 2022
                        </time>
                    </p>
                
                <ul>
<li>âœ‹ Always write unit and integration tests, testing for success and failure for each scenario.</li>
<li>ðŸ¤” Only test public methods of classes.</li>
<li>âœ‹ Write tests so that they cover all protected and private methods of the class, accessed through the public methods. If there are non-public methods that are not covered, they are either inaccessible, or the tests are comprehensive enough. If they are inaccessible, those methods should be removed.</li>
<li>âœ‹ Tests should document the functionality of classes and their methods.</li>
<li>âœ‹ Mock any external interfaces you do not control, and test for both successes and failures.</li>
<li>âœ‹ Do not mock classes that you control.</li>
</ul>

<h2>Databases</h2>

<p>Do not use SQLite for testing if:
  - you are using JSON fields
  - require exact float value calculations based on decimal fields
  - have table alterations in your migrations
  - if you have raw queries which manipulate dates</p>

<h2>Unit Tests</h2>

<ul>
<li>âœ‹ Write unite tests before implementing classes (only implement classes, never procedural code).</li>
<li>âœ‹ When starting an app, start where you would start with writing code. The first test does not have to be elegant, or even correct. The most important thing is just to get started.</li>
<li>âœ‹ Always do Red/Green/Refactor TDD. This means writing tests for the code you would like to see in an optimal world. Then make the failing test pass using the minimum amount of code. Write another test to expand on the first test, which again makes the existing code fail. Refactor your code to make the second test pass. Rinse and repeat until you have the minimum necessary functionality for your MVP (minimum viable product).</li>
<li>âœ‹ During the red/green/refactor process, keep in mind that you need to develop from two different perspectives:

<ol>
<li>When writing tests, keep the larger picture of the application and business domain in mind.</li>
<li>When writing code to satisfy tests, only think about the test that needs to be satisfied. DO NOT THINK ABOUT BUSINESS LOGIC, ONLY FOCUS ON MAKING TESTS GREEN.</li>
</ol></li>
<li>âœ‹ Never add code that wont be used.</li>
<li>âœ‹ Remove any code that is not used.</li>
<li>âœ‹ Use cyclomatic complexity as a guide for the number of tests needed to achieve full test coverage of your code.</li>
<li>âœ‹ As your tests get more specific, your code should become more generic.</li>
<li>âœ‹ Goal of tests is to get as quickly as possible to &quot;Shameless Green&quot;, which means that no matter how ugly your code is, it satisfies all tests, thus is &quot;green&quot;.</li>
<li>âœ‹ One of the principles of Shameless Green is that code is written for understanding, rather than extreme adherence to any and all patterns. The human is the focus.</li>
<li>âœ‹ Consider Robert Martin&#39;s Transformation Priority Premise (<a href="https://8thlight.com/blog/uncle-bob/2013/05/27/TheTransformationPriorityPremise.html">https://8thlight.com/blog/uncle-bob/2013/05/27/TheTransformationPriorityPremise.html</a>) when writing functional code to keep code complexity at a minimum. Try to opt for the highest ranked option.</li>
<li>âœ‹ Abstract logic into methods only if they are used multiple times. Otherwise this might introduce mental debt and increase code complexity.</li>
<li>âœ‹ Consider waiting to dry out duplicated code until after a few tests cover it. This way the correct abstraction might reveal itself, rather than prematurely abstracting it out incorrectly.</li>
</ul>

                <div
                    class="flex flex-col gap-2 pt-2 mt-8 text-sm italic border-t border-gray-300"
                >
                    <p
                        class="p-0 m-0"
                    >
                        âœ‹ This is currently a manual process for which we don't have a linter (yet).
                    </p>
                    <p
                        class="p-0 m-0"
                    >
                        ðŸ¤” This is currently under consideration, but not enforced.
                    </p>
                </div>
            </div>
        </div>
    </section>

        </main>


        <script>
    const navMenu = {
        toggle() {
            const menu = document.getElementById('js-nav-menu');
            menu.classList.toggle('hidden');
            menu.classList.toggle('lg:block');
            document.getElementById('js-nav-menu-hide').classList.toggle('hidden');
            document.getElementById('js-nav-menu-show').classList.toggle('hidden');
        },
    }
</script>

        <footer
            class="py-4 mt-12 text-sm text-center bg-white"
            role="contentinfo"
        >
            <p
                class="text-base text-gray-400 xl:text-center"
            >
                &copy; 2023
                <a
                    href="https://valmar.holdings"
                    title="Valmar Holdings"
                >
                    Valmar Holdings
                </a>.
                All rights reserved.
            </p>
        </footer>
    </body>
</html>
